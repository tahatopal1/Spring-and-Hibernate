<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, inital-scale=1, shrink-to-fit=no">
	<title>Register New User Form</title>
	<!-- Reference Bootstrap files -->
	<link rel="stylesheet"
		 href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	
	<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style type="text/css">
		.error{
			color: red;
		}
	</style>
</head>
<body>
	<div>
		<div id="loginbox" style="margin-top: 50px;" class="mainbox col-md-3 col-md-offset-2 col-sm-6 col-sm-offset-2">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<div class="panel-title">Register New User</div>
				</div>
				<div style="padding-top: 30px" class="panel-body"></div>
				<!-- Registration Form -->
				<form th:action="@{/register/registration}" th:object="${crmUser}" method="POST" class="form-horizontal">
					<!-- Place for messages: error, alert etc. -->
					<div class="form-group">
						<div class="col-xs-15">
							<div>
								<!-- Check for registration error -->
								<div th:if="${registrationError}" class="alert alert-danger col-xs-offset-1 col-xs-10">
									<span th:text="${registrationError}"></span>
								</div>
							</div>
						</div>
					</div>
					<!-- User name -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						<input type="text" th:field="*{userName}" placeholder="username (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('userName')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('userName')}" th:text="${err}" />
						</ul>
					</div>
					<!-- Password -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
						<input type="password" th:field="*{password}" placeholder="password (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('password')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('password')}" th:text="${err}" />
						</ul>
					</div>
					<!-- Matching Password -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
						<input type="password" th:field="*{matchingPassword}" placeholder="confirm password (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('matchingPassword')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('matchingPassword')}" th:text="${err}" />
						</ul>
					</div>
					<!-- First name -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						<input type="text" th:field="*{firstName}" placeholder="confirm password (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('firstName')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('firstName')}" th:text="${err}" />
						</ul>
					</div>
					<!-- Last name -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						<input type="text" th:field="*{lastName}" placeholder="confirm password (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('lastName')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('lastName')}" th:text="${err}" />
						</ul>
					</div>
					<!-- Register -->
					<div style="margin-bottom: 25px;" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						<input type="text" th:field="*{email}" placeholder="confirm password (*)" class="form-control" th:errorclass="fieldError"/>
					</div>
					<div th:if="${#fields.hasErrors('email')}" style="margin-bottom: 25px;" class="text-danger">
						<ul>
							<li th:each="err: ${#fields.errors('email')}" th:text="${err}" />
						</ul>
					</div>
					<!-- Register Button -->
					<div style="margin-top: 10px" class="form-group">
						<div class="col-sm-6 controls">
							<button type="Submit" class="btn btn-primary">Register</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
</html>